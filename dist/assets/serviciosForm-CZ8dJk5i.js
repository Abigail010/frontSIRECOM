import{y as B,a4 as C,H as i,D as S,E as k,o as p,c as v,b as t,w as r,d as m,z as E,s as F,a,V as I,F as L,a3 as N,a2 as R}from"./index-DeSAH9ni.js";import{B as T}from"./BaseBreadcrumb-DbS7vJ9a.js";import{u as M}from"./servicios-DUbGKzvW.js";import{v as $}from"./validateText-UQqnbmko.js";import{V as _,a as b}from"./VRow-BOjVR1j5.js";import{V as O}from"./VLabel-BOGFWmpC.js";import{V as U}from"./VTextField-yy1SgSiM.js";import{V}from"./VBtn-NJ6eX_UG.js";import"./useRender-tknq6W5S.js";import"./router-CyQv8HL8.js";import"./VCard-D7NzihHv.js";import"./VAvatar-CHhwnsRI.js";import"./transition-CwyFLKPI.js";import"./VField-CCcDCAgX.js";import"./index-C2b6gZA3.js";import"./VInput-CCDWonlc.js";import"./forwardRefs-D3j0TLhE.js";import"./group-BP_jwQNl.js";import"./VProgressCircular-CuASauSG.js";import"./resizeObserver-Bkmv708X.js";const q=a("h4",{class:"mb-5 mt-2 font-weight-light"},[a("strong",null," DATOS DEL SERVICIO:"),m(" Los campos con "),a("span",{style:{color:"red"}},"(*)"),m(" son obligatorios ")],-1),z=a("span",{style:{color:"red"}},"(*)",-1),A={key:0,class:"v-messages font-weight-black px-2 py-2"},H=a("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),P=[H],j={class:"mt-2 text-lg-left"},fe=B({__name:"serviciosForm",setup(G){const l=C(),c=M(),g=i({title:"Servicios"}),D=i([{text:"Dashboard",disabled:!1,href:"#"},{text:"Registro de servicios para talleres externos",disabled:!0,href:"#"}]),o=S({formData:{id:"",nombre_servicio:"",estado:""}}),w=i(!1),x=async n=>{const e=await c.serviceID(n);o.formData.id=e.id,o.formData.nombre_servicio=e.nombre_servicio},u=i(!0),f=async()=>{u.value=!0,o.formData.nombre_servicio||(u.value=!1)},h=()=>{N.push({name:"serviciosList"})},d=i(!1),y=async()=>{if(d.value=!0,await f(),!u.value)return;const{ok:n,message:e}=l.params.id_servicio=="0"?await c.createService(o.formData):await c.updateService(o.formData),s=n?"success":"error";R.fire({icon:s,title:e,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return k(()=>{l.params.id_servicio!="0"&&(x(l.params.id_servicio),w.value=!0)}),(n,e)=>(p(),v(L,null,[t(T,{title:g.value.title,breadcrumbs:D.value},null,8,["title","breadcrumbs"]),t(b,null,{default:r(()=>[t(_,{cols:"12",lg:"12"},{default:r(()=>[q,t(b,null,{default:r(()=>[t(_,{cols:"12",md:"12"},{default:r(()=>[t(O,{class:"mb-2 font-weight-medium"},{default:r(()=>[m("Nombre servicio "),z]),_:1}),t(U,{variant:"outlined",color:"primary",type:"text",modelValue:o.formData.nombre_servicio,"onUpdate:modelValue":e[0]||(e[0]=s=>o.formData.nombre_servicio=s),modelModifiers:{trim:!0},onInput:e[1]||(e[1]=s=>(f(),o.formData.nombre_servicio=E($)(o.formData.nombre_servicio.toUpperCase()))),error:d.value&&!o.formData.nombre_servicio,"hide-details":""},null,8,["modelValue","error"]),d.value&&!o.formData.nombre_servicio?(p(),v("div",A,P)):F("",!0)]),_:1})]),_:1}),a("p",j,[t(V,{color:"error",class:"mr-3",onClick:e[2]||(e[2]=s=>h())},{default:r(()=>[m("Cancelar")]),_:1}),t(V,{color:"primary",onClick:e[3]||(e[3]=I(s=>y(),["prevent"]))},{default:r(()=>[m("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{fe as default};
