import{y as B,a4 as S,H as m,D as C,E as k,o as p,c as _,b as s,w as a,d as i,z as E,s as F,a as r,V as I,F as L,a3 as N,a2 as T}from"./index-Dy25lhf-.js";import{B as M}from"./BaseBreadcrumb-C5UaFXUf.js";import{u as R}from"./system--41lxiPu.js";import{v as $}from"./validateText-UQqnbmko.js";import{V as b,a as v}from"./VRow-ZO_qUyUR.js";import{V as A}from"./VLabel-qzXXXU03.js";import{V as U}from"./VTextField-Bq6PBZui.js";import{V as y}from"./VBtn-C44RPYWD.js";import"./useRender-CfWTRdCe.js";import"./router-CC7bdr8J.js";import"./VCard-DS1E0FSC.js";import"./VAvatar-MXhgKYV7.js";import"./transition-CbZCXkoV.js";import"./VField-CDa7vy0m.js";import"./index-Bhvdqevn.js";import"./VInput-DwLyVZ1r.js";import"./forwardRefs-D3j0TLhE.js";import"./group-Dt4i2gXm.js";import"./VProgressCircular-wIRUXPiR.js";import"./resizeObserver-B_oMf9XJ.js";const q=r("h4",{class:"mb-5 mt-2 font-weight-light"},[r("strong",null," DATOS DEL SISTEMA:"),i(" Los campos con "),r("span",{style:{color:"red"}},"(*)"),i(" son obligatorios ")],-1),z=r("span",{style:{color:"red"}},"(*)",-1),H={key:0,class:"v-messages font-weight-black px-2 py-2"},O=r("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),P=[O],j={class:"mt-2 text-lg-left"},ft=B({__name:"systemForm",setup(G){const l=S(),u=R(),V=m({title:"Sistemas para mantenimiento"}),D=m([{text:"Dashboard",disabled:!1,href:"#"},{text:"InformaciÃ³n",disabled:!0,href:"#"}]),e=C({formData:{id:"",nombre_sistema:"",estado:""}}),g=m(!1),w=async n=>{const t=await u.systemID(n);e.formData.id=t.id,e.formData.nombre_sistema=t.nombre_sistema},d=m(!0),f=async()=>{d.value=!0,e.formData.nombre_sistema||(d.value=!1)},h=()=>{N.push({name:"systemList"})},c=m(!1),x=async()=>{if(c.value=!0,await f(),!d.value)return;const{ok:n,message:t}=l.params.id_sistema=="0"?await u.createSys(e.formData):await u.updateSys(e.formData),o=n?"success":"error";T.fire({icon:o,title:t,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return k(()=>{l.params.id_sistema!="0"&&(w(l.params.id_sistema),g.value=!0)}),(n,t)=>(p(),_(L,null,[s(M,{title:V.value.title,breadcrumbs:D.value},null,8,["title","breadcrumbs"]),s(v,null,{default:a(()=>[s(b,{cols:"12",lg:"12"},{default:a(()=>[q,s(v,null,{default:a(()=>[s(b,{cols:"12",md:"12"},{default:a(()=>[s(A,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Nombre sistema "),z]),_:1}),s(U,{variant:"outlined",color:"primary",type:"text",modelValue:e.formData.nombre_sistema,"onUpdate:modelValue":t[0]||(t[0]=o=>e.formData.nombre_sistema=o),modelModifiers:{trim:!0},onInput:t[1]||(t[1]=o=>(f(),e.formData.nombre_sistema=E($)(e.formData.nombre_sistema.toUpperCase()))),error:c.value&&!e.formData.nombre_sistema,"hide-details":""},null,8,["modelValue","error"]),c.value&&!e.formData.nombre_sistema?(p(),_("div",H,P)):F("",!0)]),_:1})]),_:1}),r("p",j,[s(y,{color:"error",class:"mr-3",onClick:t[2]||(t[2]=o=>h())},{default:a(()=>[i("Cancelar")]),_:1}),s(y,{color:"primary",onClick:t[3]||(t[3]=I(o=>x(),["prevent"]))},{default:a(()=>[i("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{ft as default};
