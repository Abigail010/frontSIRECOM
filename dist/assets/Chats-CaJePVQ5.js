import{B as F}from"./BaseBreadcrumb-BxmIFtKz.js";import{_ as T}from"./AppBaseCard.vue_vue_type_style_index_0_lang-vWA34JkW.js";import{u as H,C as A,a as z}from"./ChatProfile-DwHucIAQ.js";import{y as D,H as C,o as s,c as o,b as t,w as a,V as E,r as p,U as $,b4 as V,a as e,t as m,F as y,x as k,s as u,k as x,d as L,Z as U,E as j,z as B}from"./index-CRK_zMV3.js";import{V as g}from"./VBtn-B48FZL7V.js";import{V as q}from"./VTextField-Bec4KZxB.js";import{V as S}from"./VAvatar-C4PQEIzd.js";import{V as v}from"./VSheet-Crhg3kMo.js";import{V as R}from"./VAlert-w1UaR0od.js";import{V as O}from"./VBadge-B-nUNlsO.js";import{V as M}from"./VDivider-dx-ZV6U-.js";import{f as P}from"./index-CYGAC_YL.js";import{V as Z}from"./VCard-BFkvs2WZ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useRender-CI6rz4JS.js";import"./router-qjleUESB.js";import"./VNavigationDrawer-DOMAXjyN.js";import"./layout-BnRt-TmW.js";import"./resizeObserver-BQ9Rseiy.js";import"./scopeId-CJZoiW2c.js";import"./ssrBoot-ud2vBTts.js";import"./VMenu-DAACubzh.js";import"./VOverlay-CoUSywbb.js";import"./forwardRefs-D3j0TLhE.js";import"./lazy-DNkuQKbR.js";import"./transition-Ba1_TSD1.js";import"./dialog-transition-C6pMf1PS.js";import"./VList-BumLFbuj.js";import"./index-CIayCIhg.js";import"./group-C_eLhNQ9.js";import"./VProgressCircular-CyIEv6Ov.js";import"./VField-DN_7MhxL.js";import"./VLabel-DkrgZjn7.js";import"./VInput-BIBqoq6s.js";import"./index-DT2YvziZ.js";const J=D({__name:"ChatSendMsg",setup(h){const c=C(""),d=H();function l(i){i.length!==0&&(d.sendMsg(d.chatContent,c.value),c.value="")}return(i,n)=>{const _=p("MoodSmileIcon"),f=p("SendIcon"),w=p("PhotoIcon"),I=p("PaperclipIcon");return s(),o("form",{class:"d-flex align-center pa-4",onSubmit:n[1]||(n[1]=E(b=>l(c.value),["prevent"]))},[t(g,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(_,{size:"24"})]),_:1}),t(q,{variant:"solo","hide-details":"",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=b=>c.value=b),color:"primary",class:"shadow-none",density:"compact",placeholder:"Type a Message"},null,8,["modelValue"]),t(g,{icon:"",variant:"text",type:"submit",class:"text-medium-emphasis",disabled:!c.value},{default:a(()=>[t(f,{size:"20"})]),_:1},8,["disabled"]),t(g,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(w,{size:"20"})]),_:1}),t(g,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"20"})]),_:1})],32)}}}),K={key:0,class:"pa-6"},Q={class:"text-h6 mb-3"},W={key:0},X=["src"],Y={class:"text-h6 mb-3 mt-7"},tt=["src"],et={class:"pl-4"},st={class:"text-subtitle-1 font-weight-semibold"},at={class:"text-subtitle-2 mt-1"},ot=D({__name:"ChatInfo",props:{chatDetail:Object},setup(h){const c=h,d=$(()=>{var i;return V.uniq(V.flatten((i=c.chatDetail)==null?void 0:i.chatHistory.map(n=>n.attachment))).length}),l=$(()=>{var i;return V.uniq(V.flatten((i=c.chatDetail)==null?void 0:i.chatHistory.map(n=>(n==null?void 0:n.type)==="img"?n.msg:null))).length-1});return(i,n)=>h.chatDetail?(s(),o("div",K,[e("h6",Q,"Media ("+m(l.value)+")",1),(s(!0),o(y,null,k(h.chatDetail.chatHistory,_=>(s(),o("div",{key:_.id},[_.type=="img"?(s(),o("div",W,[e("img",{src:_.msg,alt:"img",width:"100"},null,8,X)])):u("",!0)]))),128)),e("h6",Y,"Attachments ("+m(d.value)+")",1),d.value!=0?(s(),x(v,{key:0},{default:a(()=>[(s(!0),o(y,null,k(h.chatDetail.chatHistory,_=>(s(),o("div",{key:_.id},[(s(!0),o(y,null,k(_.attachment,f=>(s(),o("div",{class:"d-flex align-center mt-7",key:f.file},[t(S,{class:"rounded-md bg-grey100",size:"48"},{default:a(()=>[e("img",{width:"24",alt:"file",src:f.icon},null,8,tt)]),_:2},1024),e("div",et,[e("h6",st,m(f.file),1),e("h5",at,m(f.fileSize),1)])]))),128))]))),128))]),_:1})):(s(),x(v,{key:1},{default:a(()=>[t(R,{color:"error",type:"warning",density:"compact",variant:"tonal",class:"text-subtitle-1"},{default:a(()=>[L(" No Attachments Found! ")]),_:1})]),_:1}))])):u("",!0)}}),lt={key:0,class:"customHeight"},it={class:"d-flex align-center gap-3 pa-4"},nt={class:"d-flex gap-2 align-center"},rt=["src"],ct={class:"text-h5 mb-n1"},dt={class:"textPrimary"},mt={class:"ml-auto d-flex"},ut={class:"d-flex"},_t={class:"w-100"},pt={key:0,class:"justify-end d-flex text-end mb-1"},ht={key:0,class:"text-medium-emphasis text-subtitle-2"},ft={class:"text-body-1"},vt=["src"],gt={key:1,class:"d-flex align-items-start gap-3 mb-1"},xt=["src"],yt={key:0,class:"text-medium-emphasis text-subtitle-2"},bt={class:"text-body-1"},Vt=["src"],kt={key:0,class:"right-sidebar"},Ct=D({__name:"ChatDetail",setup(h){const{lgAndUp:c}=U(),d=H();j(()=>{d.fetchChats()});const l=$(()=>d.chats[d.chatContent-1]),i=C(!!c);function n(){i.value=!i.value}return(_,f)=>{const w=p("PhoneIcon"),I=p("VideoPlusIcon"),b=p("DotsVerticalIcon"),N=p("perfect-scrollbar");return l.value?(s(),o("div",lt,[e("div",null,[e("div",it,[e("div",nt,[t(S,null,{default:a(()=>[e("img",{src:l.value.thumb,alt:"pro",width:"50"},null,8,rt)]),_:1}),t(O,{class:"badg-dotDetail",dot:"",color:l.value.status==="away"?"warning":l.value.status==="busy"?"error":l.value.status==="online"?"success":"containerBg"},null,8,["color"]),e("div",null,[e("h5",ct,m(l.value.name),1),e("small",dt,m(l.value.status),1)])]),e("div",mt,[t(g,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(w,{size:"24"})]),_:1}),t(g,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"24"})]),_:1}),t(g,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:n},{default:a(()=>[t(b,{size:"24"})]),_:1})])]),t(M),t(N,{class:"rightpartHeight"},{default:a(()=>[e("div",ut,[e("div",_t,[(s(!0),o(y,null,k(l.value.chatHistory,r=>(s(),o("div",{key:r.id,class:"pa-5"},[l.value.id===r.senderId?(s(),o("div",pt,[e("div",null,[r.createdAt?(s(),o("small",ht,m(B(P)(new Date(r.createdAt),{addSuffix:!1}))+" ago",1)):u("",!0),r.type=="text"?(s(),x(v,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",ft,m(r.msg),1)]),_:2},1024)):u("",!0),r.type=="img"?(s(),x(v,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:r.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,vt)]),_:2},1024)):u("",!0)])])):(s(),o("div",gt,[t(S,null,{default:a(()=>[e("img",{src:l.value.thumb,alt:"pro",width:"40"},null,8,xt)]),_:1}),e("div",null,[r.createdAt?(s(),o("small",yt,m(l.value.name)+", "+m(B(P)(new Date(r.createdAt),{addSuffix:!1}))+" ago ",1)):u("",!0),r.type=="text"?(s(),x(v,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",bt,m(r.msg),1)]),_:2},1024)):u("",!0),r.type=="img"?(s(),x(v,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:r.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,Vt)]),_:2},1024)):u("",!0)])]))]))),128))]),i.value?(s(),o("div",kt,[t(v,null,{default:a(()=>[t(ot,{chatDetail:l.value},null,8,["chatDetail"])]),_:1})])):u("",!0)])]),_:1})]),t(M),t(J)])):u("",!0)}}}),Dt=D({__name:"Chats",setup(h){const c=C({title:"Chat app"}),d=C([{text:"Messenger",disabled:!0,href:"#"}]);return(l,i)=>(s(),o(y,null,[t(F,{title:c.value.title,breadcrumbs:d.value},null,8,["title","breadcrumbs"]),t(Z,{elevation:"10"},{default:a(()=>[t(T,null,{leftpart:a(()=>[t(A),t(z)]),rightpart:a(()=>[t(Ct)]),mobileLeftContent:a(()=>[t(A),t(z)]),_:1})]),_:1})],64))}}),ne=G(Dt,[["__scopeId","data-v-982ac120"]]);export{ne as default};
