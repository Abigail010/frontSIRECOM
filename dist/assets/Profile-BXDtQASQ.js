import{a5 as re,b3 as x,cg as P,y as be,a4 as ge,H as _,D as Ve,a2 as M,E as De,o as b,c as V,b as t,w as o,a as i,t as B,z as d,d as l,ao as T,s as D,V as q,F as Q,k as ye,a3 as we}from"./index-CGzb33IU.js";import{B as Te}from"./BaseBreadcrumb-9sZRzBR9.js";/* empty css                                                      */import"./Logo-CKJ3mrf7.js";import{c as Se,a as R,b as he}from"./VeeValidation-FeT3Fu1l.js";import{u as xe}from"./resource-9C79bcwL.js";import{u as Ie}from"./busqueda-D8nFe3sc.js";import{v as z}from"./validateText-UQqnbmko.js";import{u as Ce}from"./user-Hu7pv0dr.js";import{u as Ue}from"./taller-DjsM509w.js";import{a as S,V as s}from"./VRow-zJLVNwpE.js";import{V as Y,b as ke}from"./VCard-DzRJUKQr.js";import{V as Ne,a as J}from"./VTabs-CcnJP_-G.js";import{V as Oe}from"./VDivider-JXSXwml9.js";import{V as Ee,a as j}from"./VWindowItem-2GwYBj7l.js";import{V as n}from"./VLabel-GLYsymE2.js";import{V as u}from"./VTextField-B7phlykx.js";import{V as y}from"./VBtn-CVu2v1l5.js";import{V as h}from"./VSelect-DuHC03et.js";import"./useRender-CqBomNwa.js";import"./router-C8F8dwVc.js";import"./min-Crf1ymV1.js";import"./customizer-mPKUzeca.js";import"./vee-validate.esm-CxsNsmZI.js";import"./VCheckbox-zp_rcidv.js";import"./VCheckboxBtn-BaPxwzgh.js";import"./VSelectionControl-DZpy15LN.js";import"./VInput-BEE2_9XG.js";import"./index-B4f7P2zL.js";import"./transition-BDKWow2I.js";import"./VAvatar-C7IuYauh.js";import"./forwardRefs-D3j0TLhE.js";import"./VSlideGroup-FIE4V-cH.js";import"./group-zqW-UR9a.js";import"./resizeObserver-CU9npVqN.js";import"./lazy-XI759dvc.js";import"./ssrBoot-rexFTabn.js";import"./VField-Dvsp7bMV.js";import"./VProgressCircular-De9eerNs.js";import"./VList-DMFEH9ux.js";import"./dialog-transition-CGoIyN8o.js";import"./VMenu-BiDJTElT.js";import"./VOverlay-vDAHeUVM.js";import"./scopeId-CpdZsxqD.js";import"./VChip-DU3DipfD.js";re({id:"Photos",state:()=>({photos:[]}),getters:{},actions:{async fetchPhotos(){try{const m=await x.get("/api/photos");this.photos=m.data.photos}catch(m){alert(m),console.log(m)}}}});re({id:"post",state:()=>({posts:[]}),getters:{},actions:{async fetchPosts(){try{const m=await x.get("/api/posts/list");this.posts=m.data}catch(m){alert(m),console.log(m)}},async likePost(m){try{const c=await x.post("/api/posts/list/like",{postId:m});this.posts=c.data.posts}catch(c){alert(c),console.log(c)}},async addComment(m,c){try{const v=await x.post("/api/comments/add",{postId:m,comment:c});this.posts=v.data.posts}catch(v){alert(v),console.log(v)}},async addReply(m,c,v){try{const g=await x.post("/api/replies/add",{postId:m,commentId:c,reply:v});this.posts=g.data.posts}catch(g){alert(g),console.log(g)}}}});var $e=typeof P=="object"&&P&&P.Object===Object&&P,Pe=$e,Be=Pe,Re=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Be||Re||Function("return this")(),Fe=Ae,Me=Fe,qe=Me.Symbol,L=qe,ee=L;ee&&ee.toStringTag;var te=L;te&&te.toStringTag;var ae=L,oe=ae?ae.prototype:void 0;oe&&oe.toString;const ze={class:"text-center top-"},Je={class:"text-h5 mt-3"},je={class:"text-h6 font-weight-regular"},Le={class:"mb-6"},Ge={class:"mb-6"},We={class:"mb-6"},Xe={class:"mb-6"},He=i("span",{style:{color:"red"}},"*",-1),Ze={key:0,class:"v-messages font-weight-black px-2 py-2"},Ke=i("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),Qe=[Ke],Ye=i("span",{style:{color:"red"}},"*",-1),et={key:0,class:"v-messages font-weight-black px-2 py-2"},tt=i("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),at=[tt],ot=i("span",{style:{color:"red"}},"*",-1),rt={key:0,class:"v-messages font-weight-black px-2 py-2"},lt=i("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),st=[lt],it=i("span",{style:{color:"red"}},"*",-1),nt={key:0,class:"v-messages font-weight-black px-2 py-2"},mt=i("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),dt=[mt],ut=i("div",null,null,-1),oa=be({__name:"Profile",setup(m){const c=JSON.parse(localStorage.getItem("user")||"").nombre_perfil;ge();const v=Ie(),g=["PROPIO","EXTERNO"],le=["CEO","DIABLOS VERDES","FELCN"],se=Ce(),G=xe(),I=_(null),ie=_({title:"Información del usuario"}),C=_(!1),U=_(!1),ne=["MASCULINO","FEMENINO"],me=_([{text:"Dashboard",disabled:!1,href:"/"},{text:"Usuario",disabled:!0,href:"#"}]),k=JSON.parse(localStorage.getItem("user")||"").nombres,N=JSON.parse(localStorage.getItem("user")||"").apellido_paterno,O=JSON.parse(localStorage.getItem("user")||"").apellido_materno,E=JSON.parse(localStorage.getItem("user")||"").nombre_perfil,de=JSON.parse(localStorage.getItem("user")||"").nombre_usuario,A=JSON.parse(localStorage.getItem("user")||"").cedula_identidad,ue=JSON.parse(localStorage.getItem("user")||"").correo_electronico;JSON.parse(localStorage.getItem("user")||"").imagen;const W=Ue(),a=Ve({formData:{id:"",fecha_nac:"",celular:"",genero:"",usuario:"",contraseña:"",correo_electronico:"",nombre_usuario:"",password_:"",id_taller:"",id_persona:"",id_usuario:""},formDataT:{id:"",nombre_taller:"",departamento:null,provincia:"",municipio:"",direccion_taller:"",tipo_taller:"",fuerza_taller:"",servicio_taller:null}}),X=_([]),pe=async()=>{X.value=await G.getDepartments()},H=_([]),ce=async()=>{H.value=await G.getSerivicio_t()};Se().shape({name:R().required(),email:R().email().required(),password:R().min(6).required(),confirm_password:R().required().oneOf([he("password")],"Passwords do not match")});const $=_(!0),w=async()=>{$.value=!0,(!a.formDataT.direccion_taller||!a.formDataT.departamento||!a.formDataT.tipo_taller)&&($.value=!1)},F=()=>{we.push({name:"Modern"})},fe=M.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),Z=()=>{(a.formData.contraseña!=""||a.formData.password_!="")&&fe.fire({icon:"error",title:"Al cambiar su contraseña, recuerde que usted es el único responsable de mantenerla segura y confidencial"})},p=_(!1),_e=async()=>{const f=await v.getInfoB();a.formData.id_taller=f.id_taller,a.formData.id_usuario=f.id,a.formData.id_persona=f.id_persona,a.formData.celular=f.celular,a.formData.fecha_nac=f.fecha_nacimiento,a.formData.genero=f.genero,a.formData.correo_electronico=ue,a.formData.nombre_usuario=de;const e=await W.taller_id(a.formData.id_taller);a.formDataT.id=e.id,a.formDataT.nombre_taller=e.nombre_taller,a.formDataT.departamento=e.ciudad,a.formDataT.direccion_taller=e.direccion,a.formDataT.municipio=e.municipio,a.formDataT.provincia=e.provincia,a.formDataT.tipo_taller=e.tipo,a.formDataT.fuerza_taller=e.fuerza,a.formDataT.servicio_taller=e.servicio},K=async()=>{if(p.value=!0,await w(),!$.value)return;const{ok:f,message:e}=await se.updateOne(a.formData),r=f?"success":"error";M.fire({icon:r,title:e,timer:1500,showConfirmButton:!1,timerProgressBar:!0}),window.location.reload()},ve=async()=>{if(p.value=!0,await w(),!$.value)return;const{ok:f,message:e}=await W.updateTallerU(a.formDataT),r=f?"success":"error";M.fire({icon:r,title:e,timer:1500,showConfirmButton:!1,timerProgressBar:!0}),window.location.reload()};return De(async()=>{await pe(),await ce(),await _e()}),(f,e)=>(b(),V(Q,null,[t(Te,{title:ie.value.title,breadcrumbs:me.value},null,8,["title","breadcrumbs"]),t(Y,{elevation:"10",class:"overflow-hidden"},{default:o(()=>[i("div",null,[t(S,{class:"mt-1"},{default:o(()=>[t(s,{cols:"12",lg:"12",class:"d-flex justify-center order-sml-first mb-5"},{default:o(()=>[i("div",ze,[i("h5",Je,B(d(k))+" "+B(d(N))+" "+B(d(O)),1),i("span",je,B(d(E)),1)])]),_:1})]),_:1})])]),_:1}),t(S,null,{default:o(()=>[t(s,{cols:"12"},{default:o(()=>[t(Y,{elevation:"10",class:"",rounded:"md"},{default:o(()=>[t(Ne,{modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=r=>I.value=r),"bg-color":"transparent",color:"primary"},{default:o(()=>[t(J,{value:"PersonalInfo",class:"text-medium-emphasis"},{default:o(()=>[l("Información Personal ")]),_:1}),t(J,{value:"AccountDetails",class:"text-medium-emphasis"},{default:o(()=>[l("Información Basica")]),_:1}),t(J,{value:"SocialLinks",class:"text-medium-emphasis"},{default:o(()=>[l("Taller")]),_:1})]),_:1},8,["modelValue"]),t(Oe),t(ke,{class:"pa-sm-6 pa-3 pb-sm-6 pb-6"},{default:o(()=>[t(Ee,{modelValue:I.value,"onUpdate:modelValue":e[32]||(e[32]=r=>I.value=r)},{default:o(()=>[t(j,{value:"PersonalInfo"},{default:o(()=>[t(S,null,{default:o(()=>[t(s,{cols:"12",md:"6"},{default:o(()=>[i("div",Le,[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Nombres")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:d(k),"onUpdate:modelValue":e[1]||(e[1]=r=>T(k)?k.value=r:null),"hide-details":"",disabled:""},null,8,["modelValue"])]),i("div",Ge,[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Apellido Materno")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"email",modelValue:d(O),"onUpdate:modelValue":e[2]||(e[2]=r=>T(O)?O.value=r:null),"hide-details":"",disabled:""},null,8,["modelValue"])]),i("div",null,[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Cedula de Identidad")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:d(A),"onUpdate:modelValue":e[3]||(e[3]=r=>T(A)?A.value=r:null),"hide-details":"",disabled:""},null,8,["modelValue"])])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[i("div",We,[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Apellido Paterno")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:d(N),"onUpdate:modelValue":e[4]||(e[4]=r=>T(N)?N.value=r:null),"hide-details":"",disabled:""},null,8,["modelValue"])]),i("div",Xe,[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Perfil de usuario")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:d(E),"onUpdate:modelValue":e[5]||(e[5]=r=>T(E)?E.value=r:null),"hide-details":"",disabled:""},null,8,["modelValue"])]),i("div",null,[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Fecha nacimiento"),He]),_:1}),t(u,{variant:"outlined",color:"primary",type:"date",modelValue:a.formData.fecha_nac,"onUpdate:modelValue":e[6]||(e[6]=r=>a.formData.fecha_nac=r),modelModifiers:{trim:!0},onInput:e[7]||(e[7]=r=>(w(),a.formData.fecha_nac=d(z)(a.formData.fecha_nac.toUpperCase()))),error:p.value&&!a.formData.fecha_nac,"hide-details":""},null,8,["modelValue","error"]),p.value&&!a.formData.fecha_nac?(b(),V("div",Ze,Qe)):D("",!0)])]),_:1}),t(s,{cols:"12"},{default:o(()=>[t(y,{color:"primary",onClick:e[8]||(e[8]=q(r=>K(),["prevent"])),flat:""},{default:o(()=>[l("Enviar")]),_:1}),t(y,{color:"error",class:"bg-lighterror text-error ml-4",onClick:e[9]||(e[9]=r=>F())},{default:o(()=>[l("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1}),t(j,{value:"AccountDetails"},{default:o(()=>[t(S,null,{default:o(()=>[t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Nombre de usuario")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:a.formData.nombre_usuario,"onUpdate:modelValue":e[10]||(e[10]=r=>a.formData.nombre_usuario=r),readonly:"","hide-details":""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Correo electrónico")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"email",modelValue:a.formData.correo_electronico,"onUpdate:modelValue":e[11]||(e[11]=r=>a.formData.correo_electronico=r),suffix:"@example.com",readonly:"","hide-details":""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Celular")]),_:1}),t(u,{color:"primary",variant:"outlined",type:"text",modelValue:a.formData.celular,"onUpdate:modelValue":e[12]||(e[12]=r=>a.formData.celular=r),"hide-details":""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Genero")]),_:1}),t(h,{modelValue:a.formData.genero,"onUpdate:modelValue":e[13]||(e[13]=r=>a.formData.genero=r),items:ne,"item-title":"nombre_region","item-value":"nombre_region",error:p.value&&!a.formData.genero},null,8,["modelValue","error"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Contraseña")]),_:1}),t(u,{modelValue:a.formData.contraseña,"onUpdate:modelValue":e[14]||(e[14]=r=>a.formData.contraseña=r),color:"primary",variant:"outlined",type:C.value?"text":"password",placeholder:"**********","hide-details":"",class:"text-subtitle-1","append-inner-icon":C.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[15]||(e[15]=r=>C.value=!C.value),name:"password",onInput:e[16]||(e[16]=r=>Z())},null,8,["modelValue","type","append-inner-icon"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"font-weight-medium mb-2"},{default:o(()=>[l("Confirmar contraseña")]),_:1}),t(u,{modelValue:a.formData.password_,"onUpdate:modelValue":e[17]||(e[17]=r=>a.formData.password_=r),color:"primary",variant:"outlined",type:U.value?"text":"password",placeholder:"********","hide-details":"",class:"text-subtitle-1","append-inner-icon":U.value?"mdi-eye":"mdi-eye-off",onInput:e[18]||(e[18]=r=>Z()),"onClick:appendInner":e[19]||(e[19]=r=>U.value=!U.value)},null,8,["modelValue","type","append-inner-icon"])]),_:1}),t(s,{cols:"12"},{default:o(()=>[t(y,{color:"primary",flat:"",onClick:e[20]||(e[20]=q(r=>K(),["prevent"]))},{default:o(()=>[l("Enviar")]),_:1}),t(y,{color:"error",class:"bg-lighterror text-error ml-4",onClick:e[21]||(e[21]=r=>F())},{default:o(()=>[l("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1}),t(j,{value:"SocialLinks"},{default:o(()=>[t(S,null,{default:o(()=>[t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Nombre")]),_:1}),t(u,{variant:"outlined",color:"primary",type:"text",modelValue:a.formDataT.nombre_taller,"onUpdate:modelValue":e[22]||(e[22]=r=>a.formDataT.nombre_taller=r),modelModifiers:{trim:!0},onInput:e[23]||(e[23]=r=>(w(),a.formDataT.nombre_taller=d(z)(a.formDataT.nombre_taller.toUpperCase()))),error:p.value&&!a.formDataT.nombre_taller,"hide-details":""},null,8,["modelValue","error"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Departamento "),Ye]),_:1}),t(h,{modelValue:a.formDataT.departamento,"onUpdate:modelValue":e[24]||(e[24]=r=>a.formDataT.departamento=r),items:X.value,"item-title":"nombre_region","item-value":"nombre_region",error:p.value&&!a.formDataT.departamento},null,8,["modelValue","items","error"]),p.value&&!a.formDataT.departamento?(b(),V("div",et,at)):D("",!0)]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Dirección "),ot]),_:1}),t(u,{variant:"outlined",color:"primary",type:"text",modelValue:a.formDataT.direccion_taller,"onUpdate:modelValue":e[25]||(e[25]=r=>a.formDataT.direccion_taller=r),modelModifiers:{trim:!0},onInput:e[26]||(e[26]=r=>(w(),a.formDataT.direccion_taller=d(z)(a.formDataT.direccion_taller.toUpperCase()))),error:p.value&&!a.formDataT.direccion_taller,"hide-details":""},null,8,["modelValue","error"]),p.value&&!a.formDataT.direccion_taller?(b(),V("div",rt,st)):D("",!0)]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("Tipo "),it]),_:1}),t(h,{modelValue:a.formDataT.tipo_taller,"onUpdate:modelValue":e[27]||(e[27]=r=>a.formDataT.tipo_taller=r),items:g,"item-title":"nombre_region","item-value":"nombre_region",error:p.value&&!a.formDataT.tipo_taller,readonly:""},null,8,["modelValue","error"]),p.value&&!a.formDataT.tipo_taller?(b(),V("div",nt,dt)):D("",!0)]),_:1}),a.formDataT.tipo_taller!=""&&a.formDataT.tipo_taller=="EXTERNO"?(b(),V(Q,{key:0},[t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("FUERZA")]),_:1}),t(h,{items:le,"item-title":"nombre_fuerza","item-value":"nombre_fuerza","no-data-text":"No existe más opciones para seleccionar",modelValue:a.formDataT.fuerza_taller,"onUpdate:modelValue":e[28]||(e[28]=r=>a.formDataT.fuerza_taller=r),clearable:""},null,8,["modelValue"])]),_:1}),t(s,{cols:"12",md:"6"},{default:o(()=>[t(n,{class:"mb-2 font-weight-medium"},{default:o(()=>[l("SERVICIO ")]),_:1}),t(h,{items:H.value,"item-title":"nombre_servicio","item-value":"nombre_servicio","no-data-text":"No existe más opciones para seleccionar",modelValue:a.formDataT.servicio_taller,"onUpdate:modelValue":e[29]||(e[29]=r=>a.formDataT.servicio_taller=r),clearable:""},null,8,["items","modelValue"])]),_:1})],64)):D("",!0),t(s,{cols:"12"},{default:o(()=>[d(c).includes("SUPER ADMINISTRADOR")||d(c).includes("ADMINISTRADOR")?(b(),ye(y,{key:0,color:"primary",onClick:e[30]||(e[30]=q(r=>ve(),["prevent"])),flat:""},{default:o(()=>[l("Enviar")]),_:1})):D("",!0),t(y,{color:"error",class:"bg-lighterror text-error ml-4",onClick:e[31]||(e[31]=r=>F())},{default:o(()=>[l("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(s,{cols:"12",lg:"6",class:"mb-0"},{default:o(()=>[ut]),_:1})]),_:1})],64))}});export{oa as default};
