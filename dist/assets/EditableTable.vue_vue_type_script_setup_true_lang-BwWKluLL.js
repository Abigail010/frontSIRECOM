import{a5 as N,b3 as R,y as J,E as $,U as _,H as d,o as x,c as g,b as e,w as l,v as C,d as v,a as o,t as u,F as U,x as q,r as k,cq as H}from"./index-CKVviRyN.js";import{V as n,a as T}from"./VRow-DQLErQmL.js";import{V as r}from"./VTextField-59PhmQOV.js";import{V as M}from"./VDialog-dNFGSqcG.js";import{V as p}from"./VBtn-DhPqpBlS.js";import{V as G}from"./router-CHyDOejf.js";import{V as K,a as Q,b as W,c as X}from"./VCard-BB4O923l.js";import{V as Y}from"./VForm-D8K3-mfk.js";import{V as Z}from"./VSelect-WnObaTWA.js";import{V as ee}from"./VSpacer-Do0meARZ.js";import{a as te}from"./VAvatar-zQgJEEQ6.js";import{V as le}from"./VChip-Dz9YTfoJ.js";import{V as j}from"./VTooltip-Ck9f-GzJ.js";import{V as ae}from"./VTable-BlPO3RrT.js";const oe=N({id:"Contact",state:()=>({contacts:[]}),getters:{},actions:{async fetchContacts(){try{const m=await R.get("/api/contacts");this.contacts=m.data.contacts}catch(m){alert(m),console.log(m)}}}}),se={class:"title text-white"},ne=o("thead",null,[o("tr",null,[o("th",{class:"text-subtitle-1 font-weight-semibold"},"Id"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"UserInfo"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Phone"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Joining Date"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Role"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Actions")])],-1),de={class:"text-subtitle-1"},ie={class:"d-flex align-center py-4"},ue={class:"ml-5"},re={class:"text-h6 font-weight-semibold"},ce={class:"text-subtitle-1 d-block mt-1 textSecondary"},me={class:"text-subtitle-1"},fe={class:"text-subtitle-1"},ve={class:"d-flex align-center"},je=J({__name:"EditableTable",setup(m){const w=oe();$(()=>{w.fetchContacts()}),_(()=>w.contacts);const y=d(!0),V=d(!1),b=d(""),S=d(["primary","secondary","error","success","warning"]),c=d(H),f=d(-1),s=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),B=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),D=_(()=>c.value.filter(i=>i.userinfo.toLowerCase().includes(b.value.toLowerCase())));function E(i){f.value=c.value.indexOf(i),s.value=Object.assign({},i),V.value=!0}function O(i){const a=c.value.indexOf(i);confirm("Are you sure you want to delete this item?")&&c.value.splice(a,1)}function I(){V.value=!1,setTimeout(()=>{s.value=Object.assign({},B.value),f.value=-1},300)}function P(){f.value>-1?Object.assign(c.value[f.value],s.value):c.value.push(s.value),I()}const z=_(()=>f.value===-1?"New Contact":"Edit Contact");return(i,a)=>{const A=k("PencilIcon"),F=k("TrashIcon");return x(),g(U,null,[e(T,null,{default:l(()=>[e(n,{cols:"12",lg:"4",md:"6"},{default:l(()=>[e(r,{density:"compact",modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=t=>b.value=t),label:"Search Contacts","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"8",md:"6",class:"text-right"},{default:l(()=>[e(M,{modelValue:V.value,"onUpdate:modelValue":a[9]||(a[9]=t=>V.value=t),"max-width":"500"},{activator:l(({props:t})=>[e(p,C({color:"primary"},t,{flat:"",class:"ml-auto"}),{default:l(()=>[e(G,{class:"mr-2"},{default:l(()=>[v("mdi-account-multiple-plus")]),_:1}),v("Add Contact ")]),_:2},1040)]),default:l(()=>[e(K,null,{default:l(()=>[e(Q,{class:"pa-4 bg-secondary"},{default:l(()=>[o("span",se,u(z.value),1)]),_:1}),e(W,null,{default:l(()=>[e(Y,{ref:"form",modelValue:y.value,"onUpdate:modelValue":a[8]||(a[8]=t=>y.value=t),"lazy-validation":""},{default:l(()=>[e(T,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.id,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.id=t),label:"Id"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.userinfo,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.userinfo=t),label:"User info"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.usermail,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.usermail=t),label:"User email",type:"email"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.phone,"onUpdate:modelValue":a[4]||(a[4]=t=>s.value.phone=t),label:"Phone",type:"phone"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.jdate,"onUpdate:modelValue":a[5]||(a[5]=t=>s.value.jdate=t),label:"Joining Date"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.role,"onUpdate:modelValue":a[6]||(a[6]=t=>s.value.role=t),label:"Role"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"12"},{default:l(()=>[e(Z,{variant:"outlined","hide-details":"",items:S.value,modelValue:s.value.rolestatus,"onUpdate:modelValue":a[7]||(a[7]=t=>s.value.rolestatus=t),label:"Role Background"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(X,{class:"pa-4"},{default:l(()=>[e(ee),e(p,{color:"error",onClick:I},{default:l(()=>[v("Cancel")]),_:1}),e(p,{color:"secondary",disabled:s.value.userinfo==""||s.value.usermail=="",variant:"flat",onClick:P},{default:l(()=>[v("Save")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(ae,{class:"mt-5"},{default:l(()=>[ne,o("tbody",null,[(x(!0),g(U,null,q(D.value,t=>(x(),g("tr",{key:t.id},[o("td",de,u(t.id),1),o("td",null,[o("div",ie,[o("div",null,[e(te,{src:t.avatar,width:"45px",class:"rounded-circle img-fluid"},null,8,["src"])]),o("div",ue,[o("h4",re,u(t.userinfo),1),o("span",ce,u(t.usermail),1)])])]),o("td",me,u(t.phone),1),o("td",fe,u(t.jdate),1),o("td",null,[e(le,{color:t.rolestatus,size:"small",label:""},{default:l(()=>[v(u(t.role),1)]),_:2},1032,["color"])]),o("td",null,[o("div",ve,[e(j,{text:"Edit"},{activator:l(({props:h})=>[e(p,C({icon:"",flat:"",onClick:L=>E(t)},h),{default:l(()=>[e(A,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1040,["onClick"])]),_:2},1024),e(j,{text:"Delete"},{activator:l(({props:h})=>[e(p,C({icon:"",flat:"",onClick:L=>O(t)},h),{default:l(()=>[e(F,{"stroke-width":"1.5",size:"20",class:"text-error"})]),_:2},1040,["onClick"])]),_:2},1024)])])]))),128))])]),_:1})],64)}}});export{je as _};
