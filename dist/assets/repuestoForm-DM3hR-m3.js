import{y as M,a4 as $,H as s,D as q,E as A,o as c,c as v,b as o,w as a,d as m,s as D,k as O,a as n,V as H,F as P,a3 as j,a2 as z}from"./index-CRK_zMV3.js";import{B as G}from"./BaseBreadcrumb-BxmIFtKz.js";import{u as J}from"./filtro-BTrjkQVc.js";import{u as K}from"./system-tATnWBlv.js";import{V as l,a as B}from"./VRow-CX9cHxBU.js";import{V as u}from"./VLabel-DkrgZjn7.js";import{V as d}from"./VAutocomplete-DDvUusAP.js";import{V as Q}from"./VTextField-Bec4KZxB.js";import{V as C}from"./VBtn-B48FZL7V.js";import"./useRender-CI6rz4JS.js";import"./router-qjleUESB.js";import"./VCard-BFkvs2WZ.js";import"./VAvatar-C4PQEIzd.js";import"./transition-Ba1_TSD1.js";import"./VSelect-BO_4W9wv.js";import"./VInput-BIBqoq6s.js";import"./index-CIayCIhg.js";import"./forwardRefs-D3j0TLhE.js";import"./VList-BumLFbuj.js";import"./ssrBoot-ud2vBTts.js";import"./VDivider-dx-ZV6U-.js";import"./dialog-transition-C6pMf1PS.js";import"./VMenu-DAACubzh.js";import"./VOverlay-CoUSywbb.js";import"./lazy-DNkuQKbR.js";import"./scopeId-CJZoiW2c.js";import"./resizeObserver-BQ9Rseiy.js";import"./VCheckboxBtn-B0oo_No9.js";import"./VSelectionControl-Dv-Wd-lW.js";import"./VChip-DSFD8scA.js";import"./VSlideGroup-yCDeIjBK.js";import"./group-C_eLhNQ9.js";import"./filter-B1Kjebx2.js";import"./VField-DN_7MhxL.js";import"./VProgressCircular-CyIEv6Ov.js";const W=n("h4",{class:"mb-5 mt-2 font-weight-light"},[n("strong",null," DATOS DEL FILTRO:"),m(" Los campos con "),n("span",{style:{color:"red"}},"(*)"),m(" son obligatorios ")],-1),X=n("span",{style:{color:"red"}},"(*)",-1),Y={key:0,class:"v-messages font-weight-black px-2 py-2"},Z=n("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),ee=[Z],te=n("span",{style:{color:"red"}},"(*)",-1),oe={key:0,class:"v-messages font-weight-black px-2 py-2"},ae=n("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),re=[ae],se={class:"mt-2 text-lg-left"},He=M({__name:"repuestoForm",setup(me){const f=$(),i=J(),N=K(),S=s({title:"Registro de filtro"}),F=s([{text:"Dashboard",disabled:!1,href:"#"},{text:"Filtro",disabled:!0,href:"#"}]),e=q({formData:{id_filtro:"",id:"",id_tipo_repuesto:"",nombre_clase:"",nombre_tipo:"",nombre_marca:"",nombre_tm:"",nombre_sistema:"",id_sistema:"",union:"",estado:"",nombre_repuesto:""}}),V=s(!1),L=async p=>{const t=await i.filter(p);e.formData.id=t.id,e.formData.nombre_repuesto=t.nombre_repuesto,e.formData.nombre_clase=t.clase,e.formData.nombre_tm=t.tipo_motor,e.formData.nombre_sistema=t.id_sistema,e.formData.nombre_marca=t.uno,e.formData.nombre_tipo=t.dos,e.formData.id_tipo_repuesto=t.id_tipo_repuesto,e.formData.union=t.tipo},U=s([]),g=s([]),y=s([]),w=s([]),x=s([]),h=s([]),k=s([]),E=async()=>{U.value=await i.filters(),g.value=await i.clase(),y.value=await i.tipo(),w.value=await i.marcas(),x.value=await i.motor(),k.value=await i.repuestos(),h.value=await N.systems()},_=s(!0),R=async()=>{_.value=!0,(!e.formData.nombre_sistema||!e.formData.nombre_repuesto)&&(_.value=!1)},T=()=>{j.push({name:"filtroList"})},b=s(!1),I=async()=>{if(b.value=!0,await R(),!_.value)return;const{ok:p,message:t}=f.params.id_filtro=="0"?await i.createfilter(e.formData):await i.updatefilter(e.formData),r=p?"success":"error";z.fire({icon:r,title:t,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return A(()=>{E(),f.params.id_filtro!="0"&&(L(f.params.id_filtro),V.value=!0)}),(p,t)=>(c(),v(P,null,[o(G,{title:S.value.title,breadcrumbs:F.value},null,8,["title","breadcrumbs"]),o(B,null,{default:a(()=>[o(l,{cols:"12",lg:"12"},{default:a(()=>[W,o(B,null,{default:a(()=>[o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Sistema "),X]),_:1}),o(d,{variant:"outlined",color:"primary",items:h.value,modelValue:e.formData.nombre_sistema,"onUpdate:modelValue":t[0]||(t[0]=r=>e.formData.nombre_sistema=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"id","item-title":"nombre_sistema"},null,8,["items","modelValue"]),b.value&&!e.formData.nombre_sistema?(c(),v("div",Y,ee)):D("",!0)]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Clase")]),_:1}),o(d,{variant:"outlined",color:"primary",items:g.value,modelValue:e.formData.nombre_clase,"onUpdate:modelValue":t[1]||(t[1]=r=>e.formData.nombre_clase=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_clase","item-title":"nombre_clase"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Marca")]),_:1}),o(d,{variant:"outlined",color:"primary",items:w.value,modelValue:e.formData.nombre_marca,"onUpdate:modelValue":t[2]||(t[2]=r=>e.formData.nombre_marca=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_marca","item-title":"nombre_marca"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Tipo ")]),_:1}),o(d,{variant:"outlined",color:"primary",items:y.value,modelValue:e.formData.nombre_tipo,"onUpdate:modelValue":t[3]||(t[3]=r=>e.formData.nombre_tipo=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_tipo","item-title":"nombre_tipo"},null,8,["items","modelValue"])]),_:1}),e.formData.nombre_marca!=""&&e.formData.nombre_tipo!=""||e.formData.union!=""?(c(),O(l,{key:0,cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Caracteristica")]),_:1}),o(Q,{variant:"outlined",color:"primary",type:"text",readonly:V.value,modelValue:e.formData.union,"onUpdate:modelValue":t[4]||(t[4]=r=>e.formData.union=r),modelModifiers:{trim:!0},value:e.formData.union||`${e.formData.nombre_marca}  ${e.formData.nombre_tipo}`,onInput:e.formData.union,"hide-details":""},null,8,["readonly","modelValue","value","onInput"])]),_:1})):D("",!0),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Tipo motor")]),_:1}),o(d,{variant:"outlined",color:"primary",items:x.value,modelValue:e.formData.nombre_tm,"onUpdate:modelValue":t[5]||(t[5]=r=>e.formData.nombre_tm=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_tipo","item-title":"nombre_tipo"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[m("Repuesto"),te]),_:1}),o(d,{variant:"outlined",color:"primary",items:k.value,modelValue:e.formData.nombre_repuesto,"onUpdate:modelValue":t[6]||(t[6]=r=>e.formData.nombre_repuesto=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_repuesto","item-title":"nombre_repuesto"},null,8,["items","modelValue"]),b.value&&!e.formData.nombre_repuesto?(c(),v("div",oe,re)):D("",!0)]),_:1})]),_:1}),n("p",se,[o(C,{color:"error",class:"mr-3",onClick:t[7]||(t[7]=r=>T())},{default:a(()=>[m("Cancelar")]),_:1}),o(C,{color:"primary",onClick:t[8]||(t[8]=H(r=>I(),["prevent"]))},{default:a(()=>[m("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{He as default};
