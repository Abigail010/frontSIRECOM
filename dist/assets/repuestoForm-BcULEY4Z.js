import{y as M,a4 as $,H as s,D as q,E as A,o as c,c as v,b as o,w as a,d as i,s as D,k as O,a as n,V as H,F as P,a3 as j,a2 as z}from"./index-B1Ro9QJU.js";import{B as G}from"./BaseBreadcrumb-BFc6R10X.js";import{u as J}from"./filtro-B5wrXSdX.js";import{u as K}from"./busqueda-Bvs38gcz.js";import{V as l,a as B}from"./VRow-BSl2zzwi.js";import{V as u}from"./VLabel-YsJ6MzrZ.js";import{V as d}from"./VAutocomplete-C6X3zOKs.js";import{V as Q}from"./VTextField-04Hqr2WR.js";import{V as C}from"./VBtn-CpmlbDfi.js";import"./useRender-PlG5GuVX.js";import"./router-D6Ivg7x8.js";import"./VCard-BGoAfAri.js";import"./VAvatar-DOLMH8NI.js";import"./transition-B90KRNgJ.js";import"./VSelect-1yh7ZT40.js";import"./VInput-D38yR_dx.js";import"./index-Bnea5liT.js";import"./forwardRefs-D3j0TLhE.js";import"./VList-CzZYJGej.js";import"./ssrBoot-DULb54Sp.js";import"./VDivider-Dnsc8jVV.js";import"./dialog-transition-yI7er75Y.js";import"./VMenu-D8mO4sZJ.js";import"./VOverlay-C-fW3TDk.js";import"./lazy-C6nFS-lS.js";import"./scopeId-_ApEsTN5.js";import"./resizeObserver-DDFPFy6D.js";import"./VCheckboxBtn-CtCcR18Q.js";import"./VSelectionControl-CqwiOIMU.js";import"./VChip-DD3xYBoH.js";import"./VSlideGroup-C1Jx43--.js";import"./group-C7JiGZyq.js";import"./filter-Cd-mxr52.js";import"./VField-BfVHCEFs.js";import"./VProgressCircular-V_vM7U0Q.js";const W=n("h4",{class:"mb-5 mt-2 font-weight-light"},[n("strong",null," DATOS DEL FILTRO:"),i(" Los campos con "),n("span",{style:{color:"red"}},"(*)"),i(" son obligatorios ")],-1),X=n("span",{style:{color:"red"}},"(*)",-1),Y={key:0,class:"v-messages font-weight-black px-2 py-2"},Z=n("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),ee=[Z],te=n("span",{style:{color:"red"}},"(*)",-1),oe={key:0,class:"v-messages font-weight-black px-2 py-2"},ae=n("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),re=[ae],se={class:"mt-2 text-lg-left"},He=M({__name:"repuestoForm",setup(me){const f=$(),p=J(),N=K(),F=s({title:"Registro de filtro"}),S=s([{text:"Dashboard",disabled:!1,href:"#"},{text:"Filtro",disabled:!0,href:"#"}]),e=q({formData:{id_filtro:"",id:"",id_tipo_repuesto:"",nombre_clase:"",nombre_tipo:"",nombre_marca:"",nombre_tm:"",nombre_sistema:"",id_sistema:"",union:"",estado:"",nombre_repuesto:""}}),V=s(!1),L=async m=>{const t=await p.filter(m);e.formData.id=t.id,e.formData.nombre_repuesto=t.nombre_repuesto,e.formData.nombre_clase=t.clase,e.formData.nombre_tm=t.tipo_motor,e.formData.nombre_sistema=t.id_sistema,e.formData.nombre_marca=t.uno,e.formData.nombre_tipo=t.dos,e.formData.id_tipo_repuesto=t.id_tipo_repuesto,e.formData.union=t.tipo},U=s([]),g=s([]),y=s([]),x=s([]),w=s([]),h=s([]),k=s([]),E=async()=>{const m=await N.general_data_for_search();U.value=await p.filters(),g.value=m.clase,y.value=m.tipo,x.value=m.marca,w.value=m.tipo_motor,k.value=m.repuestos,h.value=m.sistemas},_=s(!0),R=async()=>{_.value=!0,(!e.formData.nombre_sistema||!e.formData.nombre_repuesto)&&(_.value=!1)},T=()=>{j.push({name:"filtroList"})},b=s(!1),I=async()=>{if(b.value=!0,await R(),!_.value)return;const{ok:m,message:t}=f.params.id_filtro=="0"?await p.createfilter(e.formData):await p.updatefilter(e.formData),r=m?"success":"error";z.fire({icon:r,title:t,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return A(()=>{E(),f.params.id_filtro!="0"&&(L(f.params.id_filtro),V.value=!0)}),(m,t)=>(c(),v(P,null,[o(G,{title:F.value.title,breadcrumbs:S.value},null,8,["title","breadcrumbs"]),o(B,null,{default:a(()=>[o(l,{cols:"12",lg:"12"},{default:a(()=>[W,o(B,null,{default:a(()=>[o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Sistema "),X]),_:1}),o(d,{variant:"outlined",color:"primary",items:h.value,modelValue:e.formData.nombre_sistema,"onUpdate:modelValue":t[0]||(t[0]=r=>e.formData.nombre_sistema=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"id","item-title":"nombre_sistema"},null,8,["items","modelValue"]),b.value&&!e.formData.nombre_sistema?(c(),v("div",Y,ee)):D("",!0)]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Clase")]),_:1}),o(d,{variant:"outlined",color:"primary",items:g.value,modelValue:e.formData.nombre_clase,"onUpdate:modelValue":t[1]||(t[1]=r=>e.formData.nombre_clase=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_clase","item-title":"nombre_clase"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Marca")]),_:1}),o(d,{variant:"outlined",color:"primary",items:x.value,modelValue:e.formData.nombre_marca,"onUpdate:modelValue":t[2]||(t[2]=r=>e.formData.nombre_marca=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_marca","item-title":"nombre_marca"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Tipo ")]),_:1}),o(d,{variant:"outlined",color:"primary",items:y.value,modelValue:e.formData.nombre_tipo,"onUpdate:modelValue":t[3]||(t[3]=r=>e.formData.nombre_tipo=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_tipo","item-title":"nombre_tipo"},null,8,["items","modelValue"])]),_:1}),e.formData.nombre_marca!=""&&e.formData.nombre_tipo!=""||e.formData.union!=""?(c(),O(l,{key:0,cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Caracteristica")]),_:1}),o(Q,{variant:"outlined",color:"primary",type:"text",readonly:V.value,modelValue:e.formData.union,"onUpdate:modelValue":t[4]||(t[4]=r=>e.formData.union=r),modelModifiers:{trim:!0},value:e.formData.union||`${e.formData.nombre_marca}  ${e.formData.nombre_tipo}`,onInput:e.formData.union,"hide-details":""},null,8,["readonly","modelValue","value","onInput"])]),_:1})):D("",!0),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Tipo motor")]),_:1}),o(d,{variant:"outlined",color:"primary",items:w.value,modelValue:e.formData.nombre_tm,"onUpdate:modelValue":t[5]||(t[5]=r=>e.formData.nombre_tm=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_tipo","item-title":"nombre_tipo"},null,8,["items","modelValue"])]),_:1}),o(l,{cols:"12",md:"6"},{default:a(()=>[o(u,{class:"mb-2 font-weight-medium"},{default:a(()=>[i("Repuesto"),te]),_:1}),o(d,{variant:"outlined",color:"primary",items:k.value,modelValue:e.formData.nombre_repuesto,"onUpdate:modelValue":t[6]||(t[6]=r=>e.formData.nombre_repuesto=r),"no-data-text":"No existe más opciones para seleccionar","item-value":"nombre_repuesto","item-title":"nombre_repuesto"},null,8,["items","modelValue"]),b.value&&!e.formData.nombre_repuesto?(c(),v("div",oe,re)):D("",!0)]),_:1})]),_:1}),n("p",se,[o(C,{color:"error",class:"mr-3",onClick:t[7]||(t[7]=r=>T())},{default:a(()=>[i("Cancelar")]),_:1}),o(C,{color:"primary",onClick:t[8]||(t[8]=H(r=>I(),["prevent"]))},{default:a(()=>[i("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{He as default};
