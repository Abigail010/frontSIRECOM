import{y,a4 as B,H as l,D as k,E as F,o as p,c as _,b as t,w as s,d as m,z as E,s as L,a as r,V as N,F as T,a3 as I,a2 as S}from"./index-B1Ro9QJU.js";import{B as M}from"./BaseBreadcrumb-BFc6R10X.js";import{u as R}from"./clase-9hwFtB6I.js";import{v as $}from"./validateText-UQqnbmko.js";import{V as b,a as C}from"./VRow-BSl2zzwi.js";import{V as U}from"./VLabel-YsJ6MzrZ.js";import{V as q}from"./VTextField-04Hqr2WR.js";import{V as v}from"./VBtn-CpmlbDfi.js";import"./useRender-PlG5GuVX.js";import"./router-D6Ivg7x8.js";import"./VCard-BGoAfAri.js";import"./VAvatar-DOLMH8NI.js";import"./transition-B90KRNgJ.js";import"./VField-BfVHCEFs.js";import"./index-Bnea5liT.js";import"./VInput-D38yR_dx.js";import"./forwardRefs-D3j0TLhE.js";import"./group-C7JiGZyq.js";import"./VProgressCircular-V_vM7U0Q.js";import"./resizeObserver-DDFPFy6D.js";const z=r("h4",{class:"mb-5 mt-2 font-weight-light"},[r("strong",null," DATOS DEL Clase:"),m(" Los campos con "),r("span",{style:{color:"red"}},"(*)"),m(" son obligatorios ")],-1),A=r("span",{style:{color:"red"}},"(*)",-1),H={key:0,class:"v-messages font-weight-black px-2 py-2"},O=r("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),P=[O],j={class:"mt-2 text-lg-left"},fe=y({__name:"claseForm",setup(G){const i=B(),n=R(),V=l({title:"Tipo de vehículo"}),D=l([{text:"Dashboard",disabled:!1,href:"#"},{text:"Información",disabled:!0,href:"#"}]),a=k({formData:{id:"",nombre_Clase:"",estado:""}}),g=l(!1),h=async c=>{const e=await n.ClasesID(i.params.id_clase);a.formData.id=e.id_clase,a.formData.nombre_Clase=e.nombre_clase},d=l(!0),f=async()=>{d.value=!0,a.formData.nombre_Clase||(d.value=!1)},w=()=>{I.push({name:"ClasesList"})},u=l(!1),x=async()=>{if(u.value=!0,await f(),!d.value)return;const{ok:c,message:e}=i.params.id_clase=="0"?await n.createClases(a.formData):await n.updateClases(a.formData),o=c?"success":"error";S.fire({icon:o,title:e,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return F(()=>{i.params.id_Clase!="0"&&(h(i.params.id_Clase),g.value=!0)}),(c,e)=>(p(),_(T,null,[t(M,{title:V.value.title,breadcrumbs:D.value},null,8,["title","breadcrumbs"]),t(C,null,{default:s(()=>[t(b,{cols:"12",lg:"12"},{default:s(()=>[z,t(C,null,{default:s(()=>[t(b,{cols:"12",md:"12"},{default:s(()=>[t(U,{class:"mb-2 font-weight-medium"},{default:s(()=>[m("Nombre Clase "),A]),_:1}),t(q,{variant:"outlined",color:"primary",type:"text",modelValue:a.formData.nombre_Clase,"onUpdate:modelValue":e[0]||(e[0]=o=>a.formData.nombre_Clase=o),modelModifiers:{trim:!0},onInput:e[1]||(e[1]=o=>(f(),a.formData.nombre_Clase=E($)(a.formData.nombre_Clase.toUpperCase()))),error:u.value&&!a.formData.nombre_Clase,"hide-details":""},null,8,["modelValue","error"]),u.value&&!a.formData.nombre_Clase?(p(),_("div",H,P)):L("",!0)]),_:1})]),_:1}),r("p",j,[t(v,{color:"error",class:"mr-3",onClick:e[2]||(e[2]=o=>w())},{default:s(()=>[m("Cancelar")]),_:1}),t(v,{color:"primary",onClick:e[3]||(e[3]=N(o=>x(),["prevent"]))},{default:s(()=>[m("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{fe as default};
