import{y,a4 as B,H as m,D as C,E as k,o as p,c as _,b as t,w as r,d as i,z as F,s as E,a as s,V as L,F as N,a3 as R,a2 as A}from"./index-B1Ro9QJU.js";import{B as S}from"./BaseBreadcrumb-BFc6R10X.js";import{u as T}from"./marca-DA9HV452.js";import{v as I}from"./validateText-UQqnbmko.js";import{V as b,a as M}from"./VRow-BSl2zzwi.js";import{V as $}from"./VLabel-YsJ6MzrZ.js";import{V as U}from"./VTextField-04Hqr2WR.js";import{V as v}from"./VBtn-CpmlbDfi.js";import"./useRender-PlG5GuVX.js";import"./router-D6Ivg7x8.js";import"./VCard-BGoAfAri.js";import"./VAvatar-DOLMH8NI.js";import"./transition-B90KRNgJ.js";import"./VField-BfVHCEFs.js";import"./index-Bnea5liT.js";import"./VInput-D38yR_dx.js";import"./forwardRefs-D3j0TLhE.js";import"./group-C7JiGZyq.js";import"./VProgressCircular-V_vM7U0Q.js";import"./resizeObserver-DDFPFy6D.js";const q=s("h4",{class:"mb-5 mt-2 font-weight-light"},[s("strong",null," DATOS DE LA MARCA:"),i(" Los campos con "),s("span",{style:{color:"red"}},"(*)"),i(" son obligatorios ")],-1),z=s("span",{style:{color:"red"}},"(*)",-1),H={key:0,class:"v-messages font-weight-black px-2 py-2"},O=s("div",{class:"v-messages__message text-error"}," El campo es requerido ",-1),P=[O],j={class:"mt-2 text-lg-left"},fa=y({__name:"marcaForm",setup(G){const n=B(),l=T(),V=m({title:"Marcas"}),g=m([{text:"Dashboard",disabled:!1,href:"#"},{text:"Registro de Marcas para vehÃ­culo",disabled:!0,href:"#"}]),e=C({formData:{id:"",nombre_Marca:"",estado:""}}),D=m(!1),h=async u=>{const a=await l.MarcasID(n.params.id_marca);e.formData.id=a.id_marca,e.formData.nombre_Marca=a.nombre_marca},c=m(!0),f=async()=>{c.value=!0,e.formData.nombre_Marca||(c.value=!1)},w=()=>{R.push({name:"MarcaList"})},d=m(!1),x=async()=>{if(d.value=!0,await f(),!c.value)return;const{ok:u,message:a}=n.params.id_marca=="0"?await l.createMarcas(e.formData):await l.updateMarcas(e.formData),o=u?"success":"error";A.fire({icon:o,title:a,timer:1500,showConfirmButton:!1,timerProgressBar:!0})};return k(()=>{n.params.id_Marca!="0"&&(h(n.params.id_Marca),D.value=!0)}),(u,a)=>(p(),_(N,null,[t(S,{title:V.value.title,breadcrumbs:g.value},null,8,["title","breadcrumbs"]),t(M,null,{default:r(()=>[t(b,{cols:"12",lg:"12"},{default:r(()=>[q,t(M,null,{default:r(()=>[t(b,{cols:"12",md:"12"},{default:r(()=>[t($,{class:"mb-2 font-weight-medium"},{default:r(()=>[i("Nombre Marca "),z]),_:1}),t(U,{variant:"outlined",color:"primary",type:"text",modelValue:e.formData.nombre_Marca,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formData.nombre_Marca=o),modelModifiers:{trim:!0},onInput:a[1]||(a[1]=o=>(f(),e.formData.nombre_Marca=F(I)(e.formData.nombre_Marca.toUpperCase()))),error:d.value&&!e.formData.nombre_Marca,"hide-details":""},null,8,["modelValue","error"]),d.value&&!e.formData.nombre_Marca?(p(),_("div",H,P)):E("",!0)]),_:1})]),_:1}),s("p",j,[t(v,{color:"error",class:"mr-3",onClick:a[2]||(a[2]=o=>w())},{default:r(()=>[i("Cancelar")]),_:1}),t(v,{color:"primary",onClick:a[3]||(a[3]=L(o=>x(),["prevent"]))},{default:r(()=>[i("Enviar")]),_:1})])]),_:1})]),_:1})],64))}});export{fa as default};
